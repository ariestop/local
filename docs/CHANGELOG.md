# История изменений

## Улучшения (последнее обновление)

### Безопасность
- **CSRF-защита** — токены для форм (login, register, add, edit, delete)
- **Хелпер h()** — htmlspecialchars с ENT_QUOTES для вывода

### Архитектура
- **Validation** — класс валидации форм (required, email, minLength и др.)
- **Конфиг маршрутов** — `app/config/routes.php`, `Router::fromConfig()`
- **404** — отдельная страница 404 при неизвестном маршруте

### Функциональность
- **Пагинация** на главной (20 объявлений на страницу)
- **Скрипт миграций** — `php scripts/migrate.php` (post_photo, user.password)

### Конфигурация
- **.env** — поддержка .env и .env.local для настроек БД (DB_HOST, DB_NAME, DB_USER, DB_PASSWORD)
- **.env.example** — пример конфигурации

### UX
- **Индикатор загрузки** — спиннер на кнопках при отправке форм
- **Toast-уведомления** — «Регистрация успешна», «Вход выполнен», «Объявление добавлено», «Изменения сохранены»
